<div class="card-row" [class.expanded]="expandedCard !== null">
  <ng-container *ngIf="expandedCard === null">
    <ng-container *ngFor="let project of projects; let i = index">
      <div class="project-card" (click)="openCard(i)">
        <h2 class="project-title">{{ project.title }}</h2>
        <img [src]="project.image" alt="Projeto" class="project-image" />
        <p class="project-summary">{{ project.summary }}</p>
        <a [href]="project.link" target="_blank" class="github-link">Ver no GitHub</a>
      </div>
    </ng-container>
  </ng-container>
  <ng-container *ngIf="expandedCard !== null">
    <div class="overlay" (click)="closeCard($event)">
      <div class="project-card expanded" (click)="$event.stopPropagation()">
        <button class="close-button" (click)="closeCard($event)"><ion-icon name="close-outline"></ion-icon></button>
        <h2 class="project-title">{{ projects[expandedCard!].title }}</h2>
        <!-- imagem removida do card expandido -->
        <iframe
          *ngIf="projects[expandedCard!].safeIframeUrl"
          [src]="projects[expandedCard!].safeIframeUrl"
          width="100%"
          height="850"
          frameborder="0"
          loading="lazy"
          allowfullscreen
          class="project-iframe"
        ></iframe>
        
        <a [href]="projects[expandedCard!].link" target="_blank" class="github-link">Ver no GitHub</a>
      </div>
    </div>
  </ng-container>
</div>

